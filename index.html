<!DOCTYPE html>

<head>
    <!-- Require the peer dependencies of face-landmarks-detection. -->
    <script src="https://unpkg.com/@tensorflow/tfjs-core@2.4.0/dist/tf-core.js"></script>
    <script src="https://unpkg.com/@tensorflow/tfjs-converter@2.4.0/dist/tf-converter.js"></script>

    <!-- You must explicitly require a TF.js backend if you're not using the tfjs union bundle. -->
    <script src="https://unpkg.com/@tensorflow/tfjs-backend-webgl@2.4.0/dist/tf-backend-webgl.js"></script>

    <!-- Require face-landmarks-detection itself. -->
    <script
        src="https://unpkg.com/@tensorflow-models/face-landmarks-detection@0.0.1/dist/face-landmarks-detection.js"></script>


</head>

<body>


    <input type="button" title="HTML5摄像头" value="开启摄像头" onclick="getMedia()" />
    <video id="video" width="640px" height="480px" autoplay="autoplay"></video>
    <style src="style.css"></style>
    <canvas id="canvas" width="640px" height="480px"></canvas>
    <!-- <button id="snap" onclick="takePhoto()">拍照</button> -->
    <script>
        function getMedia() {
            let constraints = {
                video: {width: 640, height: 480},
                audio: false
            };
            let video = document.getElementById("video");
  
            let promise = navigator.mediaDevices.getUserMedia(constraints);
            promise.then(function (MediaStream) {
                video.srcObject = MediaStream;
                video.play();
            });
        }
        getMedia();

        // function takePhoto() {
        //     //获得Canvas对象
        //     let video = document.getElementById("video");
        //     let canvas = document.getElementById("canvas");
        //     let ctx = canvas.getContext('2d');
        //     //绘图
        //     ctx.drawImage(video, 0, 0, 300, 300);
        // }
    </script>

</body>